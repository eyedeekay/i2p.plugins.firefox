(function(){"use strict";var e="stripe.checkout";var t="https://checkout.stripe.com/checkout.js";var n={address:["data-address","boolean"],alipay:["data-alipay","boolean-or-auto"],alipayReusable:["data-alipay-reusable","boolean"],allowRememberMe:["data-allow-remember-me","boolean"],amount:["data-amount","number"],billingAddress:["data-billing-address","boolean"],bitcoin:["data-bitcoin","boolean"],currency:["data-currency","string"],description:["data-description","string"],email:["data-email","string"],image:["data-image","string"],key:["data-key","string"],label:["data-label","string"],locale:["data-locale","string"],name:["data-name","string"],color:["data-color","string"],panelLabel:["data-panel-label","string"],shippingAddress:["data-shipping-address","boolean"],zipCode:["data-zip-code","boolean"]};var a;if(typeof module!=="undefined"&&typeof module.exports==="object"){a=require("angular");module.exports=e}else{a=window.angular}var o=a.extend;a.module(e,[]).directive("stripeCheckout",r).provider("StripeCheckout",i);r.$inject=["$parse","StripeCheckout"];function r(e,t){return{link:n};function n(n,a,o){var r;t.load().then(function(){r=t.configure(u(a))});a.on("click",function(){if(r)r.open(u(a)).then(function(t){var a=e(o.stripeCheckout)(n);if(typeof a==="function")a.apply(null,t)})})}}function i(){var e={};this.defaults=function(t){o(e,t)};this.load=function(e){return e.load()};this.load.$inject=["StripeCheckout"];this.$get=function(t,n){return new l(t,n,e)};this.$get.$inject=["$document","$q"]}function l(e,t,n){var a={};var r;this.configure=function(e){return new c(t,o({},n,a,e))};this.load=function(){if(!r)r=s(e,t);return r};this.defaults=function(e){o(a,e)}}function c(e,t){var n,a;var r=StripeCheckout.configure(o({},t,{token:function(e,o){if(t.token)t.token(e,o);a=true;n.resolve([e,o])},closed:function(){if(t.closed)t.closed();if(!a)n.reject()}}));this.open=function(t){n=e.defer();a=false;r.open(t);return n.promise};this.close=function(){a=false;r.close();if(t.closed)t.closed();if(n)n.reject()}}function u(e){var t,a,o,r={};for(t in n){if(!n.hasOwnProperty(t))continue;a=n[t];o=d(e.attr(a[0]),a[1]);if(o!=null)r[t]=o}return r}function s(e,n){var a=n.defer();var o=e[0];var r=o.createElement("script");r.src=t;r.onload=function(){a.resolve()};r.onreadystatechange=function(){var e=this.readyState;if(e==="loaded"||e==="complete")a.resolve()};r.onerror=function(){a.reject(new Error("Unable to load checkout.js"))};var i=o.getElementsByTagName("head")[0];i.appendChild(r);return a.promise}function d(e,t){if(t==="boolean"){return e&&e!=="false"}else if(t==="number"){return e&&Number(e)}else if(t==="boolean-or-auto"){if(e==="auto")return e;else return d(e,"boolean")}else{return e}}})();